<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (version 1.7.0_67) on Tue Jan 06 14:40:45 CST 2015 -->
<title>ViewServer (ultimateandroid API)</title>
<meta name="date" content="2015-01-06">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ViewServer (ultimateandroid API)";
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="跳过导航链接"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/SampleWebViewClient.html" title="com.marshalchen.common.commonUtils.moduleUtils中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/WebViewUtils.html" title="com.marshalchen.common.commonUtils.moduleUtils中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html" target="_top">框架</a></li>
<li><a href="ViewServer.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.marshalchen.common.commonUtils.moduleUtils</div>
<h2 title="类 ViewServer" class="title">类 ViewServer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.marshalchen.common.commonUtils.moduleUtils.ViewServer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">ViewServer</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block"><p>This class can be used to enable the use of HierarchyViewer inside an
 application. HierarchyViewer is an Android SDK tool that can be used
 to inspect and debug the user interface of running applications. For
 security reasons, HierarchyViewer does not work on production builds
 (for instance phones bought in store.) By using this class, you can
 make HierarchyViewer work on any device. You must be very careful
 however to only enable HierarchyViewer when debugging your
 application.</p>
 
 <p>To use this view server, your application must require the INTERNET
 permission.</p>
 
 <p>The recommended way to use this API is to register activities when
 they are created, and to unregister them when they get destroyed:</p>
 
 <pre>
 public class MyActivity extends Activity {
     public void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         // Set content view, etc.
         ViewServer.get(this).addWindow(this);
     }
       
     public void onDestroy() {
         super.onDestroy();
         ViewServer.get(this).removeWindow(this);
     }
   
     public void onResume() {
         super.onResume();
         ViewServer.get(this).setFocusedWindow(this);
     }
 }
 </pre>
 
 <p>
 In a similar fashion, you can use this API with an InputMethodService:
 </p>
 
 <pre>
 public class MyInputMethodService extends InputMethodService {
     public void onCreate() {
         super.onCreate();
         View decorView = getWindow().getWindow().getDecorView();
         String name = "MyInputMethodService";
         ViewServer.get(this).addWindow(decorView, name);
     }

     public void onDestroy() {
         super.onDestroy();
         View decorView = getWindow().getWindow().getDecorView();
         ViewServer.get(this).removeWindow(decorView);
     }

     public void onStartInput(EditorInfo attribute, boolean restarting) {
         super.onStartInput(attribute, restarting);
         View decorView = getWindow().getWindow().getDecorView();
         ViewServer.get(this).setFocusedWindow(decorView);
     }
 }
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span>方法</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#addWindow(android.app.Activity)">addWindow</a></strong>(android.app.Activity&nbsp;activity)</code>
<div class="block">Invoke this method to register a new view hierarchy.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#addWindow(android.view.View,%20java.lang.String)">addWindow</a></strong>(android.view.View&nbsp;view,
         java.lang.String&nbsp;name)</code>
<div class="block">Invoke this method to register a new view hierarchy.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html" title="com.marshalchen.common.commonUtils.moduleUtils中的类">ViewServer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#get(android.content.Context)">get</a></strong>(android.content.Context&nbsp;context)</code>
<div class="block">Returns a unique instance of the ViewServer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#isRunning()">isRunning</a></strong>()</code>
<div class="block">Indicates whether the server is currently running.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#removeWindow(android.app.Activity)">removeWindow</a></strong>(android.app.Activity&nbsp;activity)</code>
<div class="block">Invoke this method to unregister a view hierarchy.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#removeWindow(android.view.View)">removeWindow</a></strong>(android.view.View&nbsp;view)</code>
<div class="block">Invoke this method to unregister a view hierarchy.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#run()">run</a></strong>()</code>
<div class="block">Main server loop.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#setFocusedWindow(android.app.Activity)">setFocusedWindow</a></strong>(android.app.Activity&nbsp;activity)</code>
<div class="block">Invoke this method to change the currently focused window.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#setFocusedWindow(android.view.View)">setFocusedWindow</a></strong>(android.view.View&nbsp;view)</code>
<div class="block">Invoke this method to change the currently focused window.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#start()">start</a></strong>()</code>
<div class="block">Starts the server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#stop()">stop</a></strong>()</code>
<div class="block">Stops the server.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="get(android.content.Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public static&nbsp;<a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html" title="com.marshalchen.common.commonUtils.moduleUtils中的类">ViewServer</a>&nbsp;get(android.content.Context&nbsp;context)</pre>
<div class="block">Returns a unique instance of the ViewServer. This method should only be
 called from the main thread of your application. The server will have
 the same lifetime as your process.
 
 If your application does not have the <code>android:debuggable</code>
 flag set in its manifest, the server returned by this method will
 be a dummy object that does not do anything. This allows you to use
 the same code in debug and release versions of your application.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>context</code> - A Context used to check whether the application is
                debuggable, this can be the application context</dd></dl>
</li>
</ul>
<a name="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;boolean&nbsp;start()
              throws java.io.IOException</pre>
<div class="block">Starts the server.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>True if the server was successfully created, or false if it already exists.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.io.IOException</code> - If the server cannot be created.</dd><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#stop()"><code>stop()</code></a>, 
<a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#isRunning()"><code>isRunning()</code></a></dd></dl>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;boolean&nbsp;stop()</pre>
<div class="block">Stops the server.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>True if the server was stopped, false if an error occurred or if the
         server wasn't started.</dd><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#start()"><code>start()</code></a>, 
<a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#isRunning()"><code>isRunning()</code></a></dd></dl>
</li>
</ul>
<a name="isRunning()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRunning</h4>
<pre>public&nbsp;boolean&nbsp;isRunning()</pre>
<div class="block">Indicates whether the server is currently running.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>True if the server is running, false otherwise.</dd><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#start()"><code>start()</code></a>, 
<a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#stop()"><code>stop()</code></a></dd></dl>
</li>
</ul>
<a name="addWindow(android.app.Activity)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addWindow</h4>
<pre>public&nbsp;void&nbsp;addWindow(android.app.Activity&nbsp;activity)</pre>
<div class="block">Invoke this method to register a new view hierarchy.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>activity</code> - The activity whose view hierarchy/window to register</dd><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#addWindow(android.view.View,%20java.lang.String)"><code>addWindow(android.view.View, String)</code></a>, 
<a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#removeWindow(android.app.Activity)"><code>removeWindow(android.app.Activity)</code></a></dd></dl>
</li>
</ul>
<a name="removeWindow(android.app.Activity)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeWindow</h4>
<pre>public&nbsp;void&nbsp;removeWindow(android.app.Activity&nbsp;activity)</pre>
<div class="block">Invoke this method to unregister a view hierarchy.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>activity</code> - The activity whose view hierarchy/window to unregister</dd><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#addWindow(android.app.Activity)"><code>addWindow(android.app.Activity)</code></a>, 
<a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#removeWindow(android.view.View)"><code>removeWindow(android.view.View)</code></a></dd></dl>
</li>
</ul>
<a name="addWindow(android.view.View, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addWindow</h4>
<pre>public&nbsp;void&nbsp;addWindow(android.view.View&nbsp;view,
             java.lang.String&nbsp;name)</pre>
<div class="block">Invoke this method to register a new view hierarchy.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>view</code> - A view that belongs to the view hierarchy/window to register</dd><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#removeWindow(android.view.View)"><code>removeWindow(android.view.View)</code></a></dd></dl>
</li>
</ul>
<a name="removeWindow(android.view.View)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeWindow</h4>
<pre>public&nbsp;void&nbsp;removeWindow(android.view.View&nbsp;view)</pre>
<div class="block">Invoke this method to unregister a view hierarchy.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>view</code> - A view that belongs to the view hierarchy/window to unregister</dd><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html#addWindow(android.view.View,%20java.lang.String)"><code>addWindow(android.view.View, String)</code></a></dd></dl>
</li>
</ul>
<a name="setFocusedWindow(android.app.Activity)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFocusedWindow</h4>
<pre>public&nbsp;void&nbsp;setFocusedWindow(android.app.Activity&nbsp;activity)</pre>
<div class="block">Invoke this method to change the currently focused window.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>activity</code> - The activity whose view hierarchy/window hasfocus,
                 or null to remove focus</dd></dl>
</li>
</ul>
<a name="setFocusedWindow(android.view.View)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFocusedWindow</h4>
<pre>public&nbsp;void&nbsp;setFocusedWindow(android.view.View&nbsp;view)</pre>
<div class="block">Invoke this method to change the currently focused window.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>view</code> - A view that belongs to the view hierarchy/window that has focus,
             or null to remove focus</dd></dl>
</li>
</ul>
<a name="run()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">Main server loop.</div>
<dl>
<dt><strong>指定者:</strong></dt>
<dd><code>run</code>&nbsp;在接口中&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="跳过导航链接"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/SampleWebViewClient.html" title="com.marshalchen.common.commonUtils.moduleUtils中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../../com/marshalchen/common/commonUtils/moduleUtils/WebViewUtils.html" title="com.marshalchen.common.commonUtils.moduleUtils中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/marshalchen/common/commonUtils/moduleUtils/ViewServer.html" target="_top">框架</a></li>
<li><a href="ViewServer.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
